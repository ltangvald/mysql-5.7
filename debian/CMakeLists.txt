# Copyright (c) 2012, 2015, Oracle and/or its affiliates. All rights reserved.

CMAKE_MINIMUM_REQUIRED(VERSION 2.8.2)
IF(UNIX)
  IF (NOT DEFINED PRODUCTNAME)
    SET (PRODUCTNAME "community")
    SET (PRODUCTNAMEC "Community")
    SET (LICENSENAME "GPL")
    SET (INSTALL_LICENSEFILE "COPYING")
    SET (SERVERVERSION "5.7.11-1")
    SET (INSTALL_SERVER_BINARIES "usr/bin/mysql_setpermission")
    SET (INSTALL_SERVER_MANPAGES "usr/share/man/man1/mysql_setpermission.1")
  ENDIF()
  SET (CMAKE_EXTRAS "-DWITH_BOOST=boost")
  FILE(MAKE_DIRECTORY ${INDIRECTORY}/debian)
  FILE(GLOB_RECURSE sourceFiles RELATIVE "${INDIRECTORY}" "${INDIRECTORY}/*")
  FOREACH (sourceFile ${sourceFiles})
    STRING(REGEX REPLACE "-packagesource-" "-${PRODUCTNAME}-" destFile ${sourceFile})
    CONFIGURE_FILE("${INDIRECTORY}/${sourceFile}" "${INDIRECTORY}/debian/${destFile}" @ONLY)
  ENDFOREACH()
ENDIF()
